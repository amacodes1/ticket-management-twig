<!-- Ticket Modal -->
<div id="ticket-modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden z-50 flex items-center justify-center">
  <div class="bg-white dark:bg-[#111827] rounded-lg p-6 w-full max-w-lg mx-4">
    <h2 id="modal-title" class="text-xl font-bold mb-6 text-zinc-800 dark:text-zinc-200">Create New Ticket</h2>
    
    <form id="ticket-form" class="space-y-6">
      <!-- Title Field -->
      <div class="flex flex-col min-w-20 flex-1">
        <label class="text-zinc-800 dark:text-zinc-200 text-base font-medium leading-normal pb-2" for="title">Title*</label>
        <input 
          class="flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-zinc-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-[#9B8AFB]/50 border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 h-14 placeholder:text-zinc-400 dark:placeholder:text-zinc-500 p-4 text-base font-normal leading-normal" 
          id="title" 
          type="text"
          placeholder="e.g., Fix login button on mobile"
          required
        />
        <p id="title-error" class="text-red-500 text-sm mt-1 h-4"></p>
      </div>

      <!-- Description Field -->
      <div class="flex flex-col min-w-40 flex-1">
        <label class="text-zinc-800 dark:text-zinc-200 text-base font-medium leading-normal pb-2" for="description">Description (optional but recommended)</label>
        <textarea 
          class="flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-zinc-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-[#9B8AFB]/50 border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 min-h-36 placeholder:text-zinc-400 dark:placeholder:text-zinc-500 p-4 text-base font-normal leading-normal" 
          id="description"
          placeholder="Provide a detailed description of the issue..."
        ></textarea>
        <p id="description-error" class="text-red-500 text-sm mt-1 h-4"></p>
      </div>

      <!-- Status Field -->
      <div class="flex flex-col min-w-40 flex-1 relative">
        <label class="text-zinc-800 dark:text-zinc-200 text-base font-medium leading-normal pb-2" for="status">Status*</label>
        <div class="relative flex items-center">
          <span id="status-indicator" class="absolute left-4 w-2 h-2 rounded-full bg-green-500"></span>
          <select 
            class="flex w-full min-w-0 flex-1 cursor-pointer resize-none overflow-hidden rounded-lg text-zinc-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-[#9B8AFB]/50 border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 h-14 pl-8 pr-12 text-base font-normal leading-normal" 
            id="status"
          >
            <option value="open">Open</option>
            <option value="in_progress">In Progress</option>
            <option value="closed">Closed</option>
          </select>
        </div>
        <p id="status-error" class="text-red-500 text-sm mt-1 h-4"></p>
      </div>

      <!-- Buttons -->
      <div class="flex justify-end pt-8">
        <div class="flex flex-col sm:flex-row flex-1 gap-3 justify-end">
          <button 
            type="button"
            id="cancel-modal"
            class="flex min-w-[84px] max-w-full sm:max-w-[120px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 px-5 bg-zinc-100 text-zinc-800 dark:text-zinc-200 text-base font-bold leading-normal tracking-[0.015em] hover:bg-zinc-200 dark:hover:bg-zinc-800 transition-colors"
          >
            <span class="truncate">Cancel</span>
          </button>
          <button 
            type="submit"
            class="flex min-w-[84px] max-w-full sm:max-w-[180px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 px-5 bg-[#9B8AFB] text-white text-base font-bold leading-normal tracking-[0.015em] hover:bg-[#9B8AFB]/90 transition-colors"
          >
            <span class="truncate" id="submit-text">Create Ticket</span>
          </button>
        </div>
      </div>
    </form>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const statusSelect = document.getElementById('status');
  const statusIndicator = document.getElementById('status-indicator');
  
  const statusColors = {
    open: '#22C55E',
    in_progress: '#F59E0B', 
    closed: '#9CA3AF'
  };
  
  // Update status indicator color
  function updateStatusColor() {
    const status = statusSelect.value;
    statusIndicator.style.backgroundColor = statusColors[status];
  }
  
  statusSelect?.addEventListener('change', updateStatusColor);
  updateStatusColor(); // Set initial color
});
</script>